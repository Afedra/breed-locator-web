{% extends 'base.html' %}
{% load staticfiles %}
{% load i18n %}

{% block head %}
<link href="{% static 'morrisjs/morris.css' %}" rel="stylesheet">
<script src="{% static 'raphael/raphael.min.js' %}"></script>
<script src="{% static 'morrisjs/morris.min.js' %}"></script>

{% endblock head %}

{% block main %}

  <div class="row" style="padding-top:80px;">
    <div class="col m8 offset-m2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Matches Made Per Breed
            </div>
            <div class="panel-body">
                <div id="morris-donut-chart"></div>
            </div>
        </div>
    </div>
  </div>

  <div class="row" style="padding-top:80px;">
    <div class="col m8 offset-m2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Matches Made Per Breed
            </div>
            <div class="panel-body">
                <div id="morris-area-chart"></div>
            </div>
        </div>
    </div>
  </div>

{% endblock main %}

{% block script %}
<script>
$(function() {

    Morris.Donut({
        element: 'morris-donut-chart',
        data: [
        {% for breed in breeds %}
        {
            label: "{{ breed.linkfy_breed|safe }}",
            value: {{ breed.matches }}
        },
        {% endfor %}
        ],
        resize: true
    });
    Morris.Area({
        element: 'morris-area-chart',
        data: [
        {
            period: '2018 Q1',
            {% for breed in breeds %}
            "{{ breed.breed_type }}": {{ breed.matches }},
            {% endfor %}
        },
        {
            period: '2019 Q1',
            {% for breed in breeds %}
            "{{ breed.linkfy_breed|safe }}": {{ breed.matches }},
            {% endfor %}
        },
        {
            period: '2020 Q1',
            {% for breed in breeds %}
            "{{ breed.linkfy_breed|safe }}": {{ breed.matches }},
            {% endfor %}
        },
        ],
        xkey: 'period',
        ykeys: [
        {% for breed in breeds %}
        "{{ breed.breed_type }}",
        {% endfor %}],
        labels: [
        {% for breed in breeds %}
        "{{ breed.linkfy_breed|safe }}",
        {% endfor %}],
        pointSize: 2,
        hideHover: 'auto',
        resize: true
    });    
});
</script>
{% endblock %}
